<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="keywords" content="">
    <meta name="author" content="">
    <meta name="robots" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Yeshadmin:Customer Relationship Management Admin Bootstrap 5 Template">
    <meta property="og:title" content="Yeshadmin:Customer Relationship Management Admin Bootstrap 5 Template">
    <meta property="og:description" content="Yeshadmin:Customer Relationship Management Admin Bootstrap 5 Template">
    <meta property="og:image" content="https://yeshadmin.dexignzone.com/xhtml/social-image.png">
    <meta name="format-detection" content="telephone=no">


    <title>Simulated Investment Platform</title>

    <link rel="shortcut icon" type="image/png" href="static/assets/main/images/favicon.png">

    <link href="static/assets/main/vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">

    <link href="static/assets/main/vendor/datatables/css/jquery.dataTables.min.css" rel="stylesheet">
    <link href="static/assets/main/vendor/jvmap/jquery-jvectormap.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/buttons/1.6.4/css/buttons.dataTables.min.css" rel="stylesheet">


    <link href="static/assets/main/css/style.css" rel="stylesheet">


</head>
<body>


<div id="preloader">
    <div class="lds-ripple">
        <div></div>
        <div></div>
    </div>
</div>


<div id="main-wrapper">

    <div class="nav-header">
        <a href="{{ url_for('admin_user_management') }}" class="brand-logo">
            <svg class="logo-abbr" width="auto" height="30" viewBox="0 0 32 30" fill="none"
                 xmlns="http://www.w3.org/2000/svg">

                <image href="static/assets/images/banner/logo.png" width="100" height="50"/>


            </svg>
        </a>
    </div>


    <div class="header">
        <div class="header-content">
            <nav class="navbar navbar-expand">
                <div class="collapse navbar-collapse justify-content-between">
                    <div class="header-left">

                    </div>
                    <div class="header-right d-flex align-items-center">

                    </div>
                </div>
            </nav>
        </div>
    </div>


    <div class="deznav">
        <div class="deznav-scroll">
            <ul class="metismenu" id="menu">
                <li class="menu-title">YOUR PLATFORM</li>
                <li><a class="has-arrow " href="javascript:void(0);" aria-expanded="false">
                    <div class="menu-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.13478 20.7733V17.7156C9.13478 16.9351 9.77217 16.3023 10.5584 16.3023H13.4326C13.8102 16.3023 14.1723 16.4512 14.4393 16.7163C14.7063 16.9813 14.8563 17.3408 14.8563 17.7156V20.7733C14.8539 21.0978 14.9821 21.4099 15.2124 21.6402C15.4427 21.8705 15.756 22 16.0829 22H18.0438C18.9596 22.0024 19.8388 21.6428 20.4872 21.0008C21.1356 20.3588 21.5 19.487 21.5 18.5778V9.86686C21.5 9.13246 21.1721 8.43584 20.6046 7.96467L13.934 2.67587C12.7737 1.74856 11.1111 1.7785 9.98539 2.74698L3.46701 7.96467C2.87274 8.42195 2.51755 9.12064 2.5 9.86686V18.5689C2.5 20.4639 4.04738 22 5.95617 22H7.87229C8.55123 22 9.103 21.4562 9.10792 20.7822L9.13478 20.7733Z"
                                  fill="#90959F"/>
                        </svg>
                    </div>
                    <span class="nav-text">User</span>
                </a>
                    <ul aria-expanded="false">
                        <li><a href="{{ url_for('admin_user_management') }}">User Management</a></li>
                    </ul>
                </li>


                <li><a href="{{ url_for('admin_simulated') }}" class="" aria-expanded="false">
                    <div class="menu-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_113_177)">
                                <path d="M17 4H6C4.79111 4 4 4.7 4 6V18C4 19.3 4.79111 20 6 20H18C19.2 20 20 19.3 20 18V7.20711C20 7.0745 19.9473 6.94732 19.8536 6.85355L17 4ZM17 11H7V4H17V11Z"
                                      fill="#90959F"/>
                                <path opacity="0.3"
                                      d="M14.5 4H12.5C12.2239 4 12 4.22386 12 4.5V8.5C12 8.77614 12.2239 9 12.5 9H14.5C14.7761 9 15 8.77614 15 8.5V4.5C15 4.22386 14.7761 4 14.5 4Z"
                                      fill="white"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_113_177">
                                    <rect width="24" height="24" fill="white"/>
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                    <span class="nav-text">Simulated Invest</span>
                </a>
                </li>

            </ul>
        </div>
    </div>


    <div class="content-body">

        <div class="container-fluid">
            <div class="row">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h4 class="heading mb-0">Users</h4>
                    <div class="d-flex align-items-center">
                        <ul class="nav nav-pills mix-chart-tab user-m-tabe" id="pills-tab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" data-series="colm" id="pills-colm-tab" data-bs-toggle="pill"
                                        data-bs-target="#pills-colm" type="button" role="tab" aria-selected="false">
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                         width="24px" height="24px" viewBox="0 0 24  24" version="1.1"
                                         class="svg-main-icon">
                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <rect x="0" y="0" width="24" height="24"/>
                                            <path d="M10.5,5 L19.5,5 C20.3284271,5 21,5.67157288 21,6.5 C21,7.32842712 20.3284271,8 19.5,8 L10.5,8 C9.67157288,8 9,7.32842712 9,6.5 C9,5.67157288 9.67157288,5 10.5,5 Z M10.5,10 L19.5,10 C20.3284271,10 21,10.6715729 21,11.5 C21,12.3284271 20.3284271,13 19.5,13 L10.5,13 C9.67157288,13 9,12.3284271 9,11.5 C9,10.6715729 9.67157288,10 10.5,10 Z M10.5,15 L19.5,15 C20.3284271,15 21,15.6715729 21,16.5 C21,17.3284271 20.3284271,18 19.5,18 L10.5,18 C9.67157288,18 9,17.3284271 9,16.5 C9,15.6715729 9.67157288,15 10.5,15 Z"
                                                  fill="#000000"/>
                                            <path d="M5.5,8 C4.67157288,8 4,7.32842712 4,6.5 C4,5.67157288 4.67157288,5 5.5,5 C6.32842712,5 7,5.67157288 7,6.5 C7,7.32842712 6.32842712,8 5.5,8 Z M5.5,13 C4.67157288,13 4,12.3284271 4,11.5 C4,10.6715729 4.67157288,10 5.5,10 C6.32842712,10 7,10.6715729 7,11.5 C7,12.3284271 6.32842712,13 5.5,13 Z M5.5,18 C4.67157288,18 4,17.3284271 4,16.5 C4,15.6715729 4.67157288,15 5.5,15 C6.32842712,15 7,15.6715729 7,16.5 C7,17.3284271 6.32842712,18 5.5,18 Z"
                                                  fill="#000000" opacity="0.3"/>
                                        </g>
                                    </svg>
                                </button>
                            </li>
                        </ul>
                        <a href="admin_simulated_analytics" class="btn btn-primary btn-sm ms-2" id="simulatedStockBtn">+
                            Simulated Stock</a>
                    </div>
                </div>
                <div class="col-xl-12 active-p">
                    <div class="tab-content" id="pills-tabContent">
                        <div class="tab-pane fade" id="pills-colm" role="tabpanel" aria-labelledby="pills-colm-tab">
                            <div class="card">
                                <div class="card-body px-0">
                                    <div class="table-responsive active-projects user-tbl  dt-filter">
                                        <table id="user-tbl" class="table shorting">
                                            <thead>
                                            <tr>
                                                <th>

                                                    <div class="form-check custom-checkbox ms-0">
                                                        <input type="checkbox" class="form-check-input"
                                                               id="checkAll" required="">
                                                        <label class="form-check-label" for="checkAll"></label>
                                                    </div>
                                                </th>
                                                <th>StockName</th>
                                                <th>Industry</th>
                                                <th>Position</th>
                                                <th>StartDate</th>
                                                <th>EndDate</th>
                                                <th>Action</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for profile in stockdata %}
                                            <tr>
                                                <td>
                                                    <div class="form-check custom-checkbox">
                                                        <input type="checkbox" class="form-check-input"
                                                               id="customCheckBox{{ loop.index }}" required="">
                                                        <label class="form-check-label"
                                                               for="customCheckBox{{ loop.index }}"></label>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <p class="mb-0 ms-2">{{ profile.StockName }}</p>
                                                    </div>
                                                </td>
                                                <td>{{ profile.Industry }}</td>
                                                <td>

                                                    <input type="text" class="form-control"
                                                           id="position{{ loop.index }}"
                                                           value="{{ profile.Position | default('1000') }}">
                                                </td>
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <input type="text" class="form-control"
                                                               value="{{ profile.StartDate | default('2022-12-14')}}"
                                                               id="startDate{{ loop.index }}"/>
                                                    </div>
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control"
                                                           value="{{ profile.EndDate | default('2023-12-14')}}"
                                                           id="endDate{{ loop.index }}"/>
                                                </td>
                                                <td>
                                                    <div class="dropdown">
                                                        <div class="btn-link" data-bs-toggle="dropdown"
                                                             aria-expanded="false">
                                                            <svg width="24" height="24" viewBox="0 0 24 24"
                                                                 fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                <path d="M11 12C11 12.5523 11.4477 13 12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12Z"
                                                                      stroke="#737B8B" stroke-width="2"
                                                                      stroke-linecap="round"
                                                                      stroke-linejoin="round"></path>
                                                                <path d="M18 12C18 12.5523 18.4477 13 19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12Z"
                                                                      stroke="#737B8B" stroke-width="2"
                                                                      stroke-linecap="round"
                                                                      stroke-linejoin="round"></path>
                                                                <path d="M6 12C6 12.5523 6.44772 13 7 13C7.55228 13 8 12.5523 8 12C8 11.4477 7.55228 11 7 11C6.44772 11 6 11.4477 6 12Z"
                                                                      stroke="#737B8B" stroke-width="2"
                                                                      stroke-linecap="round"
                                                                      stroke-linejoin="round"></path>
                                                            </svg>
                                                        </div>
                                                        <ul class="dropdown-menu">
                                                            <li><a class="dropdown-item" href="javascript:void(0)"
                                                                   onclick="admin_user_edit('{{ profile.stockname }}')">Edit</a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="footer">
        <div class="copyright">
            <p> <a href="https://dexignzone.com/" target="_blank">WangZihan</a> 2023</p>
        </div>
    </div>


</div>


<script src="static/assets/main/vendor/global/global.min.js"></script>
<script src="static/assets/main/vendor/chart.js/Chart.bundle.min.js"></script>
<script src="static/assets/main/vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
<script src="static/assets/main/vendor/apexchart/apexchart.js"></script>


<script src="static/assets/main/vendor/datatables/js/jquery.dataTables.min.js"></script>
<script src="static/assets/main/vendor/datatables/js/dataTables.buttons.min.js"></script>
<script src="static/assets/main/vendor/datatables/js/buttons.html5.min.js"></script>
<script src="static/assets/main/vendor/datatables/js/jszip.min.js"></script>
<script src="static/assets/main/js/plugins-init/datatables.init.js"></script>


<script src="static/assets/main/js/custom.js"></script>
<script src="static/assets/main/js/deznav-init.js"></script>
<script src="static/assets/main/js/demo.js"></script>
<script src="static/assets/main/js/styleSwitcher.js"></script>
<script>

document.addEventListener('DOMContentLoaded', function() {
    var button = document.getElementById('pills-colm-tab');
    button.click();
});
function getSelectedStocks() {
    var selectedStocks = [];
    var checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');

    checkboxes.forEach(function(checkbox) {
        var stockData = {};
        stockData.StockName = checkbox.closest('tr').querySelector('.d-flex p').innerText.trim();
        stockData.Position = checkbox.closest('tr').querySelector('input[id^="position"]').value.trim();
        stockData.StartDate = checkbox.closest('tr').querySelector('input[id^="startDate"]').value.trim();
        stockData.EndDate = checkbox.closest('tr').querySelector('input[id^="endDate"]').value.trim();
        selectedStocks.push(stockData);
    });

    return selectedStocks;
}

document.getElementById('simulatedStockBtn').addEventListener('click', function() {

    var selectedStocks = getSelectedStocks();

    fetch('/admin_simulated_selected_stocks', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ selectedStocks: selectedStocks }),
    })
    .then(response => response.json())
    .then(data => {
        console.log(data);
        console.log('Redirecting to /admin_simulated_analytics');
        window.location.href = '/admin_simulated_analytics';
    })
    .catch(error => console.error('Error:', error));
});

$(document).ready(function() {
    $('[id^="startDate"]').datepicker({
        dateFormat: 'yy-mm-dd',
        onSelect: function(selectedDate) {
            $('[id^="endDate"]').datepicker('option', 'minDate', selectedDate);
        }
    });

    $('[id^="endDate"]').datepicker({
        dateFormat: 'yy-mm-dd'
    });

    $('[id^="startDate"]').datepicker('setDate', new Date('2021-02-01'));
    $('[id^="endDate"]').datepicker('setDate', new Date('2022-02-01'));
});



</script>


</body>
</html>